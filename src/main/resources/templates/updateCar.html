<!DOCTYPE html>
<html>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<head>
  <!-- basic -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- mobile metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <!-- site metas -->
  <title>Rent Car Now </title>
  <meta name="keywords" content="">
  <meta name="description" content="">
  <meta name="author" content="">
  <!-- bootstrap css -->
  <link rel="stylesheet" href="css/addCar.css">
</head>
<body>
<div class="add-car-container">
  <h2>Update Car</h2>

  <form id="updateCarForm" action="/guncelleme" method="post" enctype="multipart/form-data">

    <div class="form-group">
      <label for="Id">Id:</label>
      <input type="number" id="Id" name="Id" placeholder="Id">
      <button type="button" id="getCarButton">Getir</button>
    </div>

    <div class="form-group">
      <label for="plate">Plate:</label>
      <input type="text" id="plate" name="plate" placeholder="plate">

    </div>
    <div class="form-group">

      <label for="dailyPrice">Price (Daily eth):</label>
      <input type="number" id="dailyPrice" name="dailyPrice" placeholder="eth giriniz" step="0.0001" min="0" required>

      <label for="dateOfAnnouncement">DateOfAnnouncement:</label>
      <input type="text" id="dateOfAnnouncement" name="dateOfAnnouncement" placeholder="$...">
    </div>

    <div class="form-group">
      <label for="modelYear">Model Year:</label>
      <input type="number" id="modelYear" name="modelYear" placeholder="2020, 2021 ...">

      <label for="km">Km:</label>
      <input type="number" id="km" name="km" placeholder="... km">
    </div>

    <div class="form-group">
      <label for="modelId">Model:</label>
      <select id="modelId" name="modelId"></select>

      <label for="colorId">Color:</label>
      <select id="colorId" name="colorId"></select>
    </div>



    <div class="form-group">
      <label for="stateId">State:</label>
      <select id="stateId" name="stateId"></select>

      <label for="fuelId">Fuel:</label>
      <select id="fuelId" name="fuelId"></select>
    </div>



    <div class="form-group">
      <label for="gearId">Gear:</label>
      <select id="gearId" name="gearId"></select>

      <label for="statusId">Car Status:</label>
      <select id="statusId" name="statusId"></select>
    </div>
    <div class="form-group">
      <label for="carPhoto">Car Photo:</label>
      <input type="file" id="carPhoto" name="carPhoto" >
    </div>


<div class="form-group">
<!--    <input type="submit" value="Güncelle">-->
    <button class="button-container" type="submit" value="Güncelle">Güncelle</button>
</div>
  </form>

  <!-- Başarı mesajını gösterecek div -->
  <div id="success-message" style="color: green; margin-top: 10px;"></div>
</div>

<script src="../public/js/jquery.min.js"></script>
<script src="js/updateCar.js"></script>
<!--<script>$("#getCarButton").click(async function () {
  const carId = $("#Id").val(); // Id alanındaki değeri al

  if (!carId) {
    alert("Lütfen bir Id girin!");
    return;
  }

  try {
    // API çağrısı yap
    const response = await fetch(`/cars/${carId}`, {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
      },
    });

    if (!response.ok) {
      throw new Error("Araç bilgisi alınamadı.");
    }

    const carData = await response.json();
    console.log("Gelen Veri:", carData); // Hata ayıklama için

    // Text inputları doldur
    $("#plate").val(carData.plate);
    $("#dailyPrice").val(carData.dailyPrice);
    $("#dateOfAnnouncement").val(carData.dateOfAnnouncement);
    $("#modelYear").val(carData.modelYear);
    $("#km").val(carData.km);

    // Select elementlerini dinamik olarak doldur
    $("#modelId").empty().append(new Option(carData.modelName, carData.modelName));
    $("#colorId").empty().append(new Option(carData.colorName, carData.colorName));
    $("#stateId").empty().append(new Option(carData.stateName, carData.stateName));
    $("#fuelId").empty().append(new Option(carData.fuelName, carData.fuelName));
    $("#gearId").empty().append(new Option(carData.gearName, carData.gearName));
    $("#statusId").empty().append(new Option(carData.statusName, carData.statusName));

    $("#success-message")
            .text("Araç bilgileri başarıyla getirildi.")
            .css("color", "green")
            .show();
  } catch (error) {
    console.error("Hata:", error);
    $("#success-message")
            .text(error.message || "Bir hata oluştu.")
            .css("color", "red")
            .show();
  }
});


</script>-->
</body>
</html>